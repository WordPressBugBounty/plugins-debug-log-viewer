/*! For license information please see 669.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkdebug_log_viewer=self.webpackChunkdebug_log_viewer||[]).push([[669],{50:(t,e,n)=>{var r=n(756),o="RELATIVE";function a(t){return'<span class="badge '.concat({Notice:"notice-bg",Warning:"warning-bg",Fatal:"fatal-bg",Database:"database-bg",Parse:"parse-bg",Deprecated:"deprecated-bg",Custom:"custom-bg"}[t]||"bg-secondary",'">').concat(t,"</span>")}function i(t){var e=t.text,n=t.stack_trace;if(!n)return e;var o="stack-"+Date.now()+"-"+Math.floor(1e3*Math.random());return'\n    <div class="error-description">'.concat(e,'</div>\n    <a class="stack-trace" data-target="#').concat(o,'">\n      <i class="fa-solid fa-code"></i>\n      ').concat((0,r.t)("stack_trace"),'\n    </a>\n    <div id="').concat(o,'" class="dlv-stack-trace" style="display: none;">\n      <div class="copy-stack-btn" title="Copy to clipboard">\n        <svg width="14" height="14" viewBox="0 0 24 24" fill="none">\n          <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>\n          <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>\n        </svg>\n      </div>\n      <pre>').concat(n,"</pre>\n    </div>\n  ")}function u(t){return new Date(t).getTime()}function s(t,e,n){var r;return"display"===e?((null===(r=window.dbg_lv_backend_data)||void 0===r?void 0:r.datetime_format)||"ABSOLUTE")===o?function(t){var e,n=new Date(t),r=new Date;if(isNaN(n.getTime()))return t;var o=r-n;if(o<0)return t;var a=Math.floor(o/1e3),i=(null===(e=window.dbg_lv_backend_data)||void 0===e?void 0:e.phrases)||{};if(a<30)return i.just_now||"just now";if(a<60)return i.one_minute_ago||"1 minute ago";if(a<120)return i.two_minutes_ago||"2 minutes ago";if(a<300)return i.five_minutes_ago||"5 minutes ago";if(a<600)return i.ten_minutes_ago||"10 minutes ago";if(a<900)return i.fifteen_minutes_ago||"15 minutes ago";if(a<1800)return i.thirty_minutes_ago||"30 minutes ago";if(a<3600)return i.one_hour_ago||"1 hour ago";if(a<7200)return i.two_hours_ago||"2 hours ago";if(a<10800)return i.three_hours_ago||"3 hours ago";if(a<21600)return i.six_hours_ago||"6 hours ago";if(a<43200)return i.twelve_hours_ago||"12 hours ago";if(a<86400)return i.one_day_ago||"1 day ago";if(a<172800)return i.two_days_ago||"2 days ago";if(a<259200)return i.three_days_ago||"3 days ago";if(a<604800)return i.one_week_ago||"1 week ago";if(a<1209600)return i.two_weeks_ago||"2 weeks ago";if(a<2592e3)return i.one_month_ago||"1 month ago";if(a<5184e3)return i.two_months_ago||"2 months ago";if(a<7776e3)return i.three_months_ago||"3 months ago";if(a<15552e3)return i.six_months_ago||"6 months ago";if(a<31536e3)return i.one_year_ago||"1 year ago";var u=Math.floor(a/31536e3);return 1===u?i.one_year_ago||"1 year ago":(i.years_ago||"%d years ago").replace("%d",u)}(t):t:u(t)}n(669)(document).ready((function(t){function e(t,e){navigator.clipboard.writeText(e).then((function(){var e=t.html();t.html('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 6L9 17l-5-5"></path></svg>'),setTimeout((function(){t.html(e)}),1500)}))}t(document).on("click",".stack-trace",(function(e){e.preventDefault();var n=t(t(this).data("target"));n.is(":visible")?(n.slideUp(300),t(this).html('\n        <i class="fa-solid fa-code"></i>\n        '.concat((0,r.t)("stack_trace")))):(n.slideDown(300),t(this).html((0,r.t)("hide_stack_trace")))})),t(document).on("click",".copy-stack-btn",(function(n){n.preventDefault(),n.stopPropagation();var r=t(this).siblings("pre").text();e(t(this),r)})),t(document).on("click",".copy-path-btn",(function(n){n.preventDefault(),n.stopPropagation();var r=t(this).siblings(".path-segment").text();e(t(this),r)}))}));var c=n(669);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}var p=function(){var t,e;return(null===(t=window.dbg_lv_backend_data)||void 0===t?void 0:t.is_premium)||(null===(e=window.dbg_lv_freemius_data)||void 0===e?void 0:e.is_premium)||!1},v=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.table=e,this.logsUpdatesIcon=c(".refresh-log i"),this.logsUpdateInterval=null},e=[{key:"animateRefreshButton",value:function(){var t=this,e=this.logsUpdatesIcon[0];this.logsUpdatesIcon.removeClass("rotate-animation"),this.logsUpdatesIcon.addClass("rotate-animation"),null==e||e.addEventListener("animationend",(function(){t.logsUpdatesIcon.removeClass("rotate-animation")}),{once:!0})}},{key:"startLiveUpdateLogs",value:function(t){var e=1e3*dbg_lv_backend_data.log_updates_interval;this.logsUpdateInterval=setInterval(t,e)}},{key:"stopLiveUpdateLogs",value:function(){this.logsUpdateInterval&&clearInterval(this.logsUpdateInterval)}},{key:"setupTimeFilter",value:function(){var t=this.table;c.fn.dataTable.ext.search.push((function(t,e,n){var r=c(".datetime-range-buttons .btn.active").val();if("all"===r)return!0;var o=new Date,a=new Date(Number(e[0]));if(isNaN(a))return!1;var i=o-a;if("custom"===r){var u=c("#custom-date-from").val(),s=c("#custom-date-to").val();if(!u||!s)return!0;var l=new Date(u).getTime(),f=new Date(s).getTime(),d=a.getTime();return d>=l&&d<=f}return"5m"===r&&i<=3e5||"30m"===r&&i<=18e5||"1h"===r&&i<=36e5||"12h"===r&&i<=432e5})),c("html").on("click",".datetime-range-buttons .btn",(function(){var e,n;if(c(this).hasClass("pro-disabled")&&(null===(e=window.dbg_lv_backend_data)||void 0===e||!e.is_premium))return null!==(n=window.dbg_lv_backend_data)&&void 0!==n&&n.checkout_url&&window.open(window.dbg_lv_backend_data.checkout_url,"_blank"),!1;var r=c(this).val();if(c(".datetime-range-buttons .btn").removeClass("active"),c(this).addClass("active"),"custom"===r){var o=c(".custom-date-range-dropdown");0===o.length&&(o=c('\n            <div class="custom-date-range-dropdown">\n              <div class="date-range-content">\n                <div class="date-input-group">\n                  <label for="custom-date-from" class="form-label">From:</label>\n                  <input type="datetime-local" id="custom-date-from" class="form-control form-control-sm" />\n                </div>\n                <div class="date-input-group">\n                  <label for="custom-date-to" class="form-label">To:</label>\n                  <input type="datetime-local" id="custom-date-to" class="form-control form-control-sm" />\n                </div>\n                <div class="date-actions">\n                  <button type="button" class="btn btn-sm btn-primary apply-custom-range">Apply</button>\n                  <button type="button" class="btn btn-sm btn-secondary cancel-custom-range">Cancel</button>\n                </div>\n              </div>\n            </div>\n          '),c(".time-filter").append(o)),o.show();var a=new Date,i=6e4*a.getTimezoneOffset(),u=new Date(a.getTime()-i),s=u.toISOString().slice(0,16),l=c("#custom-date-from"),f=c("#custom-date-to");if(l.attr("max",s),f.attr("max",s),!l.val()||!f.val()){var d=new Date(u.getTime()-36e5);l.val(d.toISOString().slice(0,16)),f.val(s)}}else c(".custom-date-range-dropdown").hide(),t.draw()})),c("html").on("click",".apply-custom-range",(function(){var e=c("#custom-date-from").val(),n=c("#custom-date-to").val();if(e&&n){var o=new Date(e),a=new Date(n),i=new Date;o>a?(0,r.P0)((0,r.t)("invalid_date_range")||"From date cannot be later than to date.","error"):o>i||a>i?(0,r.P0)((0,r.t)("future_date_not_allowed")||"Future dates are not allowed. Please select dates up to the current time.","error"):(c(".custom-date-range-dropdown").hide(),c(".datetime-range-buttons .btn").removeClass("active"),c('.datetime-range-buttons .btn[value="custom"]').addClass("active"),t.draw())}else(0,r.P0)((0,r.t)("select_both_dates")||"Please select both from and to dates.","error")})),c("html").on("click",".cancel-custom-range",(function(){c(".custom-date-range-dropdown").hide(),c(".datetime-range-buttons .btn").removeClass("active"),c('.datetime-range-buttons .btn[value="all"]').addClass("active"),t.draw()})),c(document).on("click",(function(e){var n=c(".custom-date-range-dropdown"),r=c(".custom-range-btn");!n.is(":visible")||r.is(e.target)||n.is(e.target)||0!==n.has(e.target).length||(n.hide(),c(".datetime-range-buttons .btn").removeClass("active"),c('.datetime-range-buttons .btn[value="all"]').addClass("active"),t.draw())}))}},{key:"startRelativeTimeUpdates",value:function(){var t,e=this;this.stopRelativeTimeUpdates(),(null===(t=window.dbg_lv_backend_data)||void 0===t?void 0:t.datetime_format)===o&&(this.relativeTimeInterval=setInterval((function(){var t;(null===(t=window.dbg_lv_backend_data)||void 0===t?void 0:t.datetime_format)===o&&e.table.cells(null,2).invalidate().draw(!1)}),6e4))}},{key:"stopRelativeTimeUpdates",value:function(){this.relativeTimeInterval&&(clearInterval(this.relativeTimeInterval),this.relativeTimeInterval=null)}}],e&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),m=n(669);function b(t){return{serverSide:!1,stateSave:!0,ordering:!1,retrieve:!0,bSort:!0,processing:!0,language:{processing:'<div class="loader-overlay"></div><i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="mt-3">'.concat((0,r.t)("loading_in_process"),"</span>"),search:"_INPUT_",lengthMenu:"_MENU_",emptyTable:(0,r.t)("empty_log_table"),zeroRecords:(0,r.t)("no_matching_records")},pageLength:10,layout:{topStart:null,topEnd:null,top8Start:["pageLength",{buttons:[{extend:"colvis",className:"column-visibility-btn",text:(0,r.t)("show-hide")},{extend:"csv",className:"csv-export-btn d-none",filename:"debug-log-export",exportOptions:{format:{body:function(t){return m("<div>").html(t).text()}}}}]},m('\n          <div class="time-filter">\n            <div class="datetime-range-buttons btn-group">\n              <button class="btn btn-sm btn-outline-primary" value="5m">5m</button>\n              <button class="btn btn-sm btn-outline-primary" value="30m">30m</button>\n              <button class="btn btn-sm btn-outline-primary" value="1h">1h</button>\n              <button class="btn btn-sm btn-outline-primary" value="12h">12h</button>\n              <button class="btn btn-sm btn-outline-primary active" value="all">All</button>\n              '.concat(p()?'<button class="btn btn-sm btn-outline-primary custom-range-btn" value="custom">Custom</button>':'<div class="position-relative d-inline-block">\n                    <button class="btn btn-sm btn-outline-primary custom-range-btn pro-disabled" value="custom" disabled>Custom</button>\n                    <a href="'.concat((null===(n=window.dbg_lv_backend_data)||void 0===n?void 0:n.checkout_url)||(null===(o=window.dbg_lv_freemius_data)||void 0===o?void 0:o.checkout_url)||"",'" target="_blank" class="pro-badge" title="Upgrade to Pro">Pro</a>\n                </div>'),"\n            </div>\n          </div>")),m('<div class="d-flex ms-4 advanced-filter">\n            <button class="btn btn-sm btn-outline-primary search-builder-btn" style="height: 30px; border:none">\n              <i class="fa fa-filter"></i>\n              <span class="filter-text">'.concat((0,r.t)("filter"),'</span>\n              <span class="filter-counter"></span>\n            </button>\n          </div>'))],top8End:[{search:{}},m('<div class="dropdown more-dropdown">\n          <button class="btn btn-sm btn-outline-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">\n          <span>'.concat((0,r.t)("more"),'</span>  \n          </button>\n          <ul class="dropdown-menu more-menu" aria-labelledby="dropdownMenuButton">\n            ').concat((e='\n    <li><a class="dropdown-item download-btn download-log" href="#">\n      <i class="fa fa-download"></i>'.concat((0,r.t)("download_log"),'</a></li>\n    <li><a class="dropdown-item clear-log-btn clear-log" href="#">\n    <i class="fa fa-trash"></i>').concat((0,r.t)("clear_log"),"</a></li>"),p()?e+='\n      <li><a class="dropdown-item export-csv-btn" href="#">\n        <i class="fa fa-file-csv"></i>'.concat((0,r.t)("export_csv"),"\n      </a></li>"):e+='<li>\n      <a class="dropdown-item disabled pro-feature" href="#" title="'.concat((0,r.t)("upgrade_to_pro"),'">\n      <i class="fa fa-file-csv"></i>').concat((0,r.t)("export_csv"),' <span class="pro-badge">Pro</span></a>\n    </li>'),e),"\n          </ul>\n        </div>")),m('<button class="btn btn-primary refresh-log" title="'.concat((0,r.t)("refresh_log"),'"><i class="fa fa-solid fa-arrows-rotate"></i></button>'))],top7:"searchBuilder"},columns:[{data:"timestamp",visible:!1,render:function(t,e,n){return t||u(n.datetime)}},{data:"type",render:a},{data:"datetime",className:"datetime",width:"10%",render:s},{data:"description",className:"description ph-no-capture",render:i,width:"55%"},{data:"file",className:"file ph-no-capture",width:"25%"},{data:"line",className:"line"}],autoWidth:!1,initComplete:function(){t&&"function"==typeof t.onInitComplete&&t.onInitComplete();var e=this.api();m(document).on("click",".export-csv-btn",(function(t){t.preventDefault(),e.button(".csv-export-btn").trigger()}));var n=function(){return(0,r.L$)(e)};e.on("searchBuilder-rebuild",n),e.on("searchBuilder-redraw",n),e.on("draw",n);var o=new MutationObserver((function(){return(0,r.L$)(e)})),a=document.querySelector(".dtsb-searchBuilder");a&&o.observe(a,{childList:!0,subtree:!0}),setTimeout((function(){return(0,r.L$)(e)}),500)}};var e,n,o}var h=n(81),g=n(336),y=n(669),_=n(669);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function k(){var t=j(),e=t.m(k),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function a(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,a){return e.resultName=o,n(r.d,x(t),a)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(k=function(){return{wrap:function(e,n,r,o){return t.w(a(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new I(t,e)},AsyncIterator:T,async:function(t,e,n,o,i){return(r(e)?P:E)(a(t),e,n,o,i)},keys:S,values:x}})()}function x(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(w(t)+" is not iterable")}function S(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function E(t,e,n,r,o){var a=P(t,e,n,r,o);return a.next().then((function(t){return t.done?t.value:a.next()}))}function P(t,e,n,r,o){return new T(j().w(t,e,n,r),o||Promise)}function T(t,e){function n(r,o,a,i){try{var u=t[r](o),s=u.value;return s instanceof I?e.resolve(s.v).then((function(t){n("next",t,a,i)}),(function(t){n("throw",t,a,i)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,i)}))}catch(t){i(t)}}var r;this.next||(O(T.prototype),O(T.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),O(this,"_invoke",(function(t,o,a){function i(){return new e((function(e,r){n(t,a,e,r)}))}return r=r?r.then(i,i):i()}),!0)}function j(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return O(c,"_invoke",function(n,r,o){var a,u,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return a=e,u=0,s=t,d.n=n,i}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,a=l[e],p=d.p,v=a[2];n>3?(o=v===r)&&(s=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=n<2&&p<a[1])?(u=0,d.v=r,d.n=a[1]):p<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,d.n=v,u=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),u=l,s=v;(e=u<2?t:s)||!f;){a||(u?u<3?(u>1&&(d.n=-1),p(u,s)):d.n=s:d.v=s);try{if(c=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(f=d.n<0)?s:n.call(r,d))!==i)break}catch(e){a=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,a),!0),c}var i={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(O(e={},r,(function(){return this})),e),f=c.prototype=u.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,O(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,O(f,"constructor",c),O(c,"constructor",s),s.displayName="GeneratorFunction",O(c,o,"GeneratorFunction"),O(f),O(f,o,"Generator"),O(f,r,(function(){return this})),O(f,"toString",(function(){return"[object Generator]"})),(j=function(){return{w:a,m:d}})()}function O(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}O=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){O(t,e,(function(t){return this._invoke(e,n,t)}))};a("next",0),a("throw",1),a("return",2)}},O(t,e,n,r)}function I(t,e){this.v=t,this.k=e}function F(t,e,n,r,o,a,i){try{var u=t[a](i),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D(r.key),r)}}function D(t){var e=function(t){if("object"!=w(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==w(e)?e:e+""}var N=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nextEmailInfo=y("#next-email-info"),this.nextEmailTime=y("#next-email-time"),this.nextEmailCountdown=y("#next-email-countdown"),this.updateInterval=null},e=[{key:"updateScheduleDisplay",value:(n=k().mark((function t(){var e;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.post(ajaxurl,{action:"dbg_lv_get_alert_schedule",wp_nonce:dbg_lv_backend_data.ajax_nonce});case 3:if((e=t.sent).success){t.next=6;break}throw new Error(e.data||(0,r.t)("request_error"));case 6:e.scheduled?(this.nextEmailTime.text(e.formatted_time),this.nextEmailCountdown.text((0,r.t)("in")+" "+e.time_until),this.nextEmailInfo.show(),this.startCountdownTimer(e.timestamp)):(this.nextEmailInfo.hide(),this.stopCountdownTimer()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Failed to update schedule display:",t.t0),this.nextEmailInfo.hide();case 13:case"end":return t.stop()}}),t,this,[[0,9]])})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(t){F(a,r,o,i,u,"next",t)}function u(t){F(a,r,o,i,u,"throw",t)}i(void 0)}))},function(){return o.apply(this,arguments)})},{key:"startCountdownTimer",value:function(t){var e=this;this.stopCountdownTimer(),this.updateInterval=setInterval((function(){var n=Math.floor(Date.now()/1e3),o=t-n;if(o<=0)e.stopCountdownTimer();else{var a=e.formatTimeRemaining(o);e.nextEmailCountdown.text((0,r.t)("in")+" "+a)}}),6e4)}},{key:"stopCountdownTimer",value:function(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null)}},{key:"formatTimeRemaining",value:function(t){var e=Math.floor(t/86400),n=Math.floor(t%86400/3600),o=Math.floor(t%3600/60);return e>0?n>0?"".concat(e," ").concat(1===e?(0,r.t)("day"):(0,r.t)("days")," ").concat(n," ").concat(1===n?(0,r.t)("hour"):(0,r.t)("hours")):"".concat(e," ").concat(1===e?(0,r.t)("day"):(0,r.t)("days")):n>0?"".concat(n," ").concat(1===n?(0,r.t)("hour"):(0,r.t)("hours")):"".concat(o," ").concat(1===o?(0,r.t)("minute"):(0,r.t)("minutes"))}},{key:"hide",value:function(){this.nextEmailInfo.hide(),this.stopCountdownTimer()}},{key:"show",value:function(){this.updateScheduleDisplay()}}],e&&C(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o}(),L=n(669);function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U(r.key),r)}}function U(t){var e=function(t){if("object"!=G(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==G(e)?e:e+""}var M=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#email-recipients-container";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=L(e),this.maxEmails=3,this.init()},e=[{key:"init",value:function(){this.container.length&&(this.bindEvents(),this.updateButtonStates())}},{key:"bindEvents",value:function(){var t=this;this.container.on("click",".add-email-btn",(function(e){e.preventDefault(),t.addEmailInput()})),this.container.on("click",".remove-email-btn",(function(e){e.preventDefault(),t.removeEmailInput(L(e.currentTarget).closest(".email-input-row"))})),this.container.on("input",'input[type="email"]',(function(){t.updateButtonStates()}))}},{key:"addEmailInput",value:function(){var t=this.container.find(".email-input-row");if(!(t.length>=this.maxEmails)){var e=t.length,n=this.createEmailRow(e,"");this.container.append(n),this.updateButtonStates(),n.find('input[type="email"]').focus()}}},{key:"removeEmailInput",value:function(t){this.container.find(".email-input-row").length<=1||(t.remove(),this.updateIndices(),this.updateButtonStates())}},{key:"createEmailRow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return L('\n      <div class="email-input-row" data-index="'.concat(t,'">\n        <input type="email" name="emails[]" value="').concat(e,'" />\n        <button type="button" class="btn btn-outline-danger btn-sm remove-email-btn" title="').concat((0,r.t)("remove_this_email"),'">-</button>\n      </div>\n    '))}},{key:"updateButtonStates",value:function(){var t=this.container.find(".email-input-row"),e=t.length;t.find(".add-email-btn").remove();var n=t.first();if(n.length){var o=n.find(".add-email-btn");0===o.length&&(o=L('<button type="button" class="btn btn-outline-primary btn-sm add-email-btn" title="'.concat((0,r.t)("add_another_email"),'">+</button>')),n.append(o)),o.prop("disabled",e>=this.maxEmails)}t.each((function(t,n){var r=L(n).find(".remove-email-btn");0===t?r.toggle(e>1):r.show()}))}},{key:"updateIndices",value:function(){this.container.find(".email-input-row").each((function(t,e){L(e).attr("data-index",t)}))}},{key:"getEmails",value:function(){return this.container.find('input[type="email"]').map((function(t,e){return L(e).val().trim()})).get().filter((function(t){return""!==t}))}},{key:"setEmails",value:function(t){var e=this;this.container.empty(),0===t.length&&(t=[""]),t.forEach((function(t,n){var r=e.createEmailRow(n,t);e.container.append(r)})),this.updateButtonStates()}},{key:"validate",value:function(){var t=this,e=this.getEmails(),n=[];return 0===e.length&&n.push((0,r.t)("at_least_one_email_required")),e.forEach((function(e,o){t.isValidEmail(e)||n.push((0,r.t)("email_not_valid").replace("%d",o+1))})),{isValid:0===n.length,errors:n}}},{key:"isValidEmail",value:function(t){return!(!t||t.length>254)&&/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)}},{key:"setEnabled",value:function(t){this.container.find('input[type="email"]').prop("disabled",!t),this.container.find(".add-email-btn, .remove-email-btn").prop("disabled",!t)}}],e&&B(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),R=n(669);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function V(){var t=K(),e=t.m(V),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function a(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,a){return e.resultName=o,n(r.d,z(t),a)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(V=function(){return{wrap:function(e,n,r,o){return t.w(a(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new $(t,e)},AsyncIterator:Y,async:function(t,e,n,o,i){return(r(e)?H:Z)(a(t),e,n,o,i)},keys:q,values:z}})()}function z(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(A(t)+" is not iterable")}function q(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Z(t,e,n,r,o){var a=H(t,e,n,r,o);return a.next().then((function(t){return t.done?t.value:a.next()}))}function H(t,e,n,r,o){return new Y(K().w(t,e,n,r),o||Promise)}function Y(t,e){function n(r,o,a,i){try{var u=t[r](o),s=u.value;return s instanceof $?e.resolve(s.v).then((function(t){n("next",t,a,i)}),(function(t){n("throw",t,a,i)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,i)}))}catch(t){i(t)}}var r;this.next||(W(Y.prototype),W(Y.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),W(this,"_invoke",(function(t,o,a){function i(){return new e((function(e,r){n(t,a,e,r)}))}return r=r?r.then(i,i):i()}),!0)}function K(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return W(c,"_invoke",function(n,r,o){var a,u,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return a=e,u=0,s=t,d.n=n,i}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,a=l[e],p=d.p,v=a[2];n>3?(o=v===r)&&(s=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=n<2&&p<a[1])?(u=0,d.v=r,d.n=a[1]):p<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,d.n=v,u=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),u=l,s=v;(e=u<2?t:s)||!f;){a||(u?u<3?(u>1&&(d.n=-1),p(u,s)):d.n=s:d.v=s);try{if(c=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(f=d.n<0)?s:n.call(r,d))!==i)break}catch(e){a=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,a),!0),c}var i={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(W(e={},r,(function(){return this})),e),f=c.prototype=u.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,W(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,W(f,"constructor",c),W(c,"constructor",s),s.displayName="GeneratorFunction",W(c,o,"GeneratorFunction"),W(f),W(f,o,"Generator"),W(f,r,(function(){return this})),W(f,"toString",(function(){return"[object Generator]"})),(K=function(){return{w:a,m:d}})()}function W(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}W=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){W(t,e,(function(t){return this._invoke(e,n,t)}))};a("next",0),a("throw",1),a("return",2)}},W(t,e,n,r)}function $(t,e){this.v=t,this.k=e}function Q(t,e,n,r,o,a,i){try{var u=t[a](i),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function X(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Q(a,r,o,i,u,"next",t)}function u(t){Q(a,r,o,i,u,"throw",t)}i(void 0)}))}}var J=new N,tt=null;function et(t,e){return nt.apply(this,arguments)}function nt(){return(nt=X(V().mark((function t(e,n){var o,a,i,u,s,c,l,f,d,p,v,m;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.attr("data-alerts-enabled"),a=e.find('select[name="recurrence"]'),i=e.find('input[name="send_test_email"]'),u=e.find('input[type="submit"]'),s=e.find('input[name="levels[]"]'),(c=tt.validate()).isValid){t.next=9;break}return(0,r.P0)(c.errors.join(", "),"warning"),t.abrupt("return");case 9:if(0!==(l=tt.getEmails()).length){t.next=13;break}return(0,r.P0)((0,r.t)("email_is_not_specified"),"warning"),t.abrupt("return");case 13:if(f=e.find('input[name="levels[]"]:checked:not(.pro-disabled)').map((function(){return R(this).val()})).get(),d=e.find(".togglers-group.pro-disabled").length>0,"false"!==o||d||0!==f.length){t.next=18;break}return(0,r.P0)((0,r.t)("please_select_error_level"),"warning"),t.abrupt("return");case 18:if(u.attr("disabled","disabled"),t.prev=19,"true"!==o){t.next=42;break}return t.next=23,R.post(ajaxurl,{action:n,status:"disable",emails:l,levels:f,wp_nonce:dbg_lv_backend_data.ajax_nonce});case 23:if((p=t.sent).success){t.next=26;break}throw new Error(p.data||(0,r.t)("request_error"));case 26:return e.attr("data-alerts-enabled","false"),u.removeClass("disable btn-danger").addClass("enable btn-primary").val("Enable"),(0,r.P0)((0,r.t)("notifications_disabled"),"success"),J.hide(),t.next=32,R.post(ajaxurl,{action:"dbg_lv_get_current_user_email",wp_nonce:dbg_lv_backend_data.ajax_nonce});case 32:if((v=t.sent).success){t.next=35;break}throw new Error(v.data||(0,r.t)("request_error"));case 35:tt.setEnabled(!0),emailField.val(v.data).prop("disabled",!1),a.prop("disabled",!1),i.prop("disabled",!1).closest(".form-check").show(),s.each((function(){var t=R(this);t.closest(".togglers-group").hasClass("pro-disabled")||t.prop("disabled",!1)})),t.next=55;break;case 42:return t.next=44,R.post(ajaxurl,{action:n,status:"enable",recurrence:null==a?void 0:a.val(),emails:l,levels:f,send_test_email:+(null==i?void 0:i.is(":checked")),wp_nonce:dbg_lv_backend_data.ajax_nonce});case 44:if((m=t.sent).success){t.next=47;break}throw new Error(m.data||(0,r.t)("request_error"));case 47:tt.setEnabled(!1),a.prop("disabled",!0),i.prop("disabled",!0).closest(".form-check").hide(),s.prop("disabled",!0),u.removeClass("enable btn-primary").addClass("disable btn-danger").val((0,r.t)("disable")),e.attr("data-alerts-enabled","true"),(0,r.P0)((0,r.t)("notifications_enabled"),"success"),J.show();case 55:t.next=60;break;case 57:t.prev=57,t.t0=t.catch(19),(0,r.P0)(t.t0,"error");case 60:u.prop("disabled",!1);case 61:case"end":return t.stop()}}),t,null,[[19,57]])})))).apply(this,arguments)}function rt(t){return ot.apply(this,arguments)}function ot(){return(ot=X(V().mark((function t(e){var n,o,a,i,u;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.length){t.next=3;break}return console.warn((0,r.t)("email_alerts_form_not_found")),t.abrupt("return");case 3:if(tt=new M,n=e.find('select[name="recurrence"]'),o=e.find('input[name="send_test_email"]'),a=e.find('input[type="submit"]'),i=e.find('input[name="levels[]"]'),e.addClass("loading"),t.prev=9,"true"!==e.attr("data-alerts-enabled")){t.next=20;break}e.removeClass("loading"),tt.setEnabled(!1),n.prop("disabled",!0),o.prop("disabled",!0).closest(".form-check").hide(),i.prop("disabled",!0),a.prop("disabled",!1).removeClass("enabled btn-primary").addClass("disable btn-danger").val((0,r.t)("disable")),J.show(),t.next=35;break;case 20:if(0!==tt.getEmails().length){t.next=28;break}return t.next=24,R.post(ajaxurl,{action:"dbg_lv_get_current_user_email",wp_nonce:dbg_lv_backend_data.ajax_nonce});case 24:if((u=t.sent).success){t.next=27;break}throw new Error(u.data||(0,r.t)("request_error"));case 27:tt.setEmails([u.data]);case 28:e.removeClass("loading"),tt.setEnabled(!0),n.prop("disabled",!1),o.prop("disabled",!1).closest(".form-check").show(),i.each((function(){var t=R(this);t.closest(".togglers-group").hasClass("pro-disabled")||t.prop("disabled",!1)})),a.prop("disabled",!1).removeClass("disable btn-danger").addClass("enable btn-primary").val((0,r.t)("enable")),J.hide();case 35:t.next=42;break;case 37:t.prev=37,t.t0=t.catch(9),e.removeClass("loading"),a.prop("disabled",!1).val((0,r.t)("enable")),(0,r.P0)(t.t0,"error");case 42:case"end":return t.stop()}}),t,null,[[9,37]])})))).apply(this,arguments)}var at=n(669);function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ut(){var t=pt(),e=t.m(ut),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function a(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,a){return e.resultName=o,n(r.d,st(t),a)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(ut=function(){return{wrap:function(e,n,r,o){return t.w(a(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new mt(t,e)},AsyncIterator:dt,async:function(t,e,n,o,i){return(r(e)?ft:lt)(a(t),e,n,o,i)},keys:ct,values:st}})()}function st(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(it(t)+" is not iterable")}function ct(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function lt(t,e,n,r,o){var a=ft(t,e,n,r,o);return a.next().then((function(t){return t.done?t.value:a.next()}))}function ft(t,e,n,r,o){return new dt(pt().w(t,e,n,r),o||Promise)}function dt(t,e){function n(r,o,a,i){try{var u=t[r](o),s=u.value;return s instanceof mt?e.resolve(s.v).then((function(t){n("next",t,a,i)}),(function(t){n("throw",t,a,i)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,i)}))}catch(t){i(t)}}var r;this.next||(vt(dt.prototype),vt(dt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),vt(this,"_invoke",(function(t,o,a){function i(){return new e((function(e,r){n(t,a,e,r)}))}return r=r?r.then(i,i):i()}),!0)}function pt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return vt(c,"_invoke",function(n,r,o){var a,u,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return a=e,u=0,s=t,d.n=n,i}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,a=l[e],p=d.p,v=a[2];n>3?(o=v===r)&&(s=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=n<2&&p<a[1])?(u=0,d.v=r,d.n=a[1]):p<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,d.n=v,u=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),u=l,s=v;(e=u<2?t:s)||!f;){a||(u?u<3?(u>1&&(d.n=-1),p(u,s)):d.n=s:d.v=s);try{if(c=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(f=d.n<0)?s:n.call(r,d))!==i)break}catch(e){a=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,a),!0),c}var i={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(vt(e={},r,(function(){return this})),e),f=c.prototype=u.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,vt(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,vt(f,"constructor",c),vt(c,"constructor",s),s.displayName="GeneratorFunction",vt(c,o,"GeneratorFunction"),vt(f),vt(f,o,"Generator"),vt(f,r,(function(){return this})),vt(f,"toString",(function(){return"[object Generator]"})),(pt=function(){return{w:a,m:d}})()}function vt(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}vt=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){vt(t,e,(function(t){return this._invoke(e,n,t)}))};a("next",0),a("throw",1),a("return",2)}},vt(t,e,n,r)}function mt(t,e){this.v=t,this.k=e}function bt(t,e,n,r,o,a,i){try{var u=t[a](i),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function ht(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){bt(a,r,o,i,u,"next",t)}function u(t){bt(a,r,o,i,u,"throw",t)}i(void 0)}))}}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yt(r.key),r)}}function yt(t){var e=function(t){if("object"!=it(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==it(e)?e:e+""}var _t=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.table=e,this.api=n,this.ui=r},e=[{key:"init",value:function(){this.bindDynamicEventHandlers(),this.bindStaticEventHandlers()}},{key:"bindDynamicEventHandlers",value:function(){at(".search-builder-btn").on("click",(function(){at(".dtsb-searchBuilder").toggle(),1===at(".dtsb-group").children().length&&at(".dtsb-group button").trigger("click")}))}},{key:"bindStaticEventHandlers",value:function(){var t=this;at(".refresh-log").on("click",ht(ut().mark((function e(){return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.updateLogs((function(){return t.ui.animateRefreshButton()}));case 2:case"end":return e.stop()}}),e)})))),at("#dbg_lv_log-table").on("xhr.dt",(function(t,e,n,r){if(n.info){var o=at(".table-wrapper"),a=o.find(".log-viewer-info");a.length>0?at(a).text(n.info):at(o).prepend('<div class="alert alert-warning log-viewer-info" role="alert">'.concat(n.info,"</div>"))}})),at("#dbg_lv_toggle_debug_mode").on("change",ht(ut().mark((function e(){return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.toggleDebugMode(at(this).is(":checked"));case 2:case"end":return e.stop()}}),e,this)})))),at("#dbg_lv_toggle_debug_scripts").on("change",ht(ut().mark((function e(){return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.toggleDebugScripts(at(this).is(":checked"));case 2:case"end":return e.stop()}}),e,this)})))),at("#dbg_lv_toggle_log_in_file").on("change",ht(ut().mark((function e(){var n;return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=at(this).is(":checked"))&&t.autoEnableDebugMode(),e.next=4,t.api.toggleLogInFile(n);case 4:case"end":return e.stop()}}),e,this)})))),at("#dbg_lv_toggle_display_errors").on("change",ht(ut().mark((function e(){var n,r,o;return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=at(this)).is(":checked")){e.next=9;break}return r=at("#display-errors-warning-modal"),o=new g.aF(r[0]),at("#cancel-display-errors").off("click").on("click",(function(){n.prop("checked",!1),o.hide()})),at("#confirm-display-errors").off("click").on("click",ht(ut().mark((function e(){return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.hide(),t.autoEnableDebugMode(),e.next=4,t.api.toggleDisplayErrors(!0);case 4:case"end":return e.stop()}}),e)})))),o.show(),e.abrupt("return",!1);case 9:return e.next=11,t.api.toggleDisplayErrors(!1);case 11:case"end":return e.stop()}}),e,this)})))),at(document).on("click",".clear-log",ht(ut().mark((function e(){return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.clearLog();case 2:case"end":return e.stop()}}),e)})))),at(document).on("click",".download-log",(function(){t.api.downloadLog()})),at("#dbg_lv_log_viewer_alerts_form").on("submit",function(){var e=ht(ut().mark((function e(n){var r,o;return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),o=at("#dbg_lv_log_viewer_alerts_form"),e.next=5,et(o,"dbg_lv_change_log_viewer_alerts_status");case 5:"Enable"===(null===(r=o.find('input[type="submit"]'))||void 0===r?void 0:r.val())&&(t.autoEnableDebugMode(),t.autoEnableDebugLog());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),at('input[name="UpdatesModeRadioOptions"]').on("change",ht(ut().mark((function e(){var n;return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=at('input[name="UpdatesModeRadioOptions"]:checked').val(),e.next=3,t.api.changeLogsUpdateMode(n);case 3:"AUTO"===n?(t.ui.stopLiveUpdateLogs(),t.ui.startLiveUpdateLogs((function(){return t.api.updateLogs()}))):t.ui.stopLiveUpdateLogs();case 4:case"end":return e.stop()}}),e)})))),at('input[name="DatetimeFormatRadioOptions"]').on("change",ht(ut().mark((function e(){var n;return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=at('input[name="DatetimeFormatRadioOptions"]:checked').val(),e.next=3,t.api.changeDatetimeFormat(n);case 3:window.dbg_lv_backend_data&&(window.dbg_lv_backend_data.datetime_format=n),n===o?t.ui.startRelativeTimeUpdates():t.ui.stopRelativeTimeUpdates(),t.table.cells(null,2).invalidate().draw(!1);case 6:case"end":return e.stop()}}),e)}))))}},{key:"autoEnableDebugMode",value:function(){var t=at("#dbg_lv_toggle_debug_mode");t.is(":checked")||t.prop("checked",!0).trigger("change")}},{key:"autoEnableDebugLog",value:function(){var t=at("#dbg_lv_toggle_log_in_file");t.is(":checked")||t.prop("checked",!0).trigger("change")}}],e&&gt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e,n){function r(){var t=e.getElementsByTagName("script")[0],n=e.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://beacon-v2.helpscout.net",t.parentNode.insertBefore(n,t)}if(t.Beacon=n=function(e,n,r){t.Beacon.readyQueue.push({method:e,options:n,data:r})},n.readyQueue=[],"complete"===e.readyState)return r();t.attachEvent?t.attachEvent("onload",r):t.addEventListener("load",r,!1)}(window,document,window.Beacon||function(){}),window.Beacon("init",t),window.Beacon("config",{display:{verticalOffset:30,horizontalOffset:25}}),e&&window.Beacon("identify",e)}function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,St(r.key),r)}}function St(t){var e=function(t){if("object"!=kt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==kt(e)?e:e+""}var Et,Pt,Tt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dismissKey="dbg_lv_public_log_alert_dismissed",this.alert=document.getElementById("dbg_lv_public_log_alert"),this.dismissButton=document.getElementById("dbg_lv_dismiss_alert"),this.weekInMilliseconds=6048e5},e=[{key:"init",value:function(){var t=this;this.alert&&(this.checkDismissalStatus(),this.dismissButton&&this.dismissButton.addEventListener("click",(function(e){e.preventDefault(),t.dismissForWeek()})))}},{key:"checkDismissalStatus",value:function(){var t=localStorage.getItem(this.dismissKey);t&&(new Date).getTime()-parseInt(t,10)<this.weekInMilliseconds&&(this.alert.style.display="none")}},{key:"dismissForWeek",value:function(){localStorage.setItem(this.dismissKey,(new Date).getTime().toString()),this.alert&&(this.alert.style.display="none")}},{key:"isCurrentlyDismissed",value:function(){var t=localStorage.getItem(this.dismissKey);return!!t&&(new Date).getTime()-parseInt(t,10)<this.weekInMilliseconds}}],e&&xt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),jt=n(669);function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function It(){var t=Gt(),e=t.m(It),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function a(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,a){return e.resultName=o,n(r.d,Ft(t),a)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(It=function(){return{wrap:function(e,n,r,o){return t.w(a(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new Ut(t,e)},AsyncIterator:Lt,async:function(t,e,n,o,i){return(r(e)?Nt:Dt)(a(t),e,n,o,i)},keys:Ct,values:Ft}})()}function Ft(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(Ot(t)+" is not iterable")}function Ct(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Dt(t,e,n,r,o){var a=Nt(t,e,n,r,o);return a.next().then((function(t){return t.done?t.value:a.next()}))}function Nt(t,e,n,r,o){return new Lt(Gt().w(t,e,n,r),o||Promise)}function Lt(t,e){function n(r,o,a,i){try{var u=t[r](o),s=u.value;return s instanceof Ut?e.resolve(s.v).then((function(t){n("next",t,a,i)}),(function(t){n("throw",t,a,i)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,i)}))}catch(t){i(t)}}var r;this.next||(Bt(Lt.prototype),Bt(Lt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Bt(this,"_invoke",(function(t,o,a){function i(){return new e((function(e,r){n(t,a,e,r)}))}return r=r?r.then(i,i):i()}),!0)}function Gt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return Bt(c,"_invoke",function(n,r,o){var a,u,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return a=e,u=0,s=t,d.n=n,i}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,a=l[e],p=d.p,v=a[2];n>3?(o=v===r)&&(s=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=n<2&&p<a[1])?(u=0,d.v=r,d.n=a[1]):p<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,d.n=v,u=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),u=l,s=v;(e=u<2?t:s)||!f;){a||(u?u<3?(u>1&&(d.n=-1),p(u,s)):d.n=s:d.v=s);try{if(c=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(f=d.n<0)?s:n.call(r,d))!==i)break}catch(e){a=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,a),!0),c}var i={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Bt(e={},r,(function(){return this})),e),f=c.prototype=u.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Bt(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,Bt(f,"constructor",c),Bt(c,"constructor",s),s.displayName="GeneratorFunction",Bt(c,o,"GeneratorFunction"),Bt(f),Bt(f,o,"Generator"),Bt(f,r,(function(){return this})),Bt(f,"toString",(function(){return"[object Generator]"})),(Gt=function(){return{w:a,m:d}})()}function Bt(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Bt=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){Bt(t,e,(function(t){return this._invoke(e,n,t)}))};a("next",0),a("throw",1),a("return",2)}},Bt(t,e,n,r)}function Ut(t,e){this.v=t,this.k=e}function Mt(t,e,n,r,o,a,i){try{var u=t[a](i),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}(Et=It().mark((function t(e){var n,o,a,i,u,s,c;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return wt("055b8c26-4e0e-4352-a0f2-7e6f3e7c3336"),function(t,e){var n,r,o,a;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,u,s){function c(t,e){var n=e.split(".");2==n.length&&(t=t[n[0]],e=n[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(o=t.createElement("script")).type="text/javascript",o.crossOrigin="anonymous",o.async=!0,o.src=u.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(o,a);var l=e;for(void 0!==s?l=e[s]=[]:s="posthog",l.people=l.people||[],l.toString=function(t){var e="posthog";return"posthog"!==s&&(e+="."+s),t||(e+=" (stub)"),e},l.people.toString=function(){return l.toString(1)+".people (stub)"},n="init Ie Ts Ms Ee Es Rs capture Ge calculateEventProperties Os register register_once register_for_session unregister unregister_for_session js getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Ds Fs createPersonProfile Ls Ps opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing Cs debug I As getPageViewId captureTraceFeedback captureTraceMetric".split(" "),r=0;r<n.length;r++)c(l,n[r]);e._i.push([i,u,s])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_pYVBt9N6AieVgFXoQHj27wq3PwHLeujCZrNlXKSbYLv",{api_host:"https://eu.i.posthog.com",defaults:"2025-05-24",person_profiles:"always"}),n=b(),o=e("#dbg_lv_log-table").DataTable(n),e(".right-subheader .search-input").on("input",(function(){var t=e(this).val().trim();t?o.search(t).draw():o.search("").draw()})),a=new h.q(o),i=new v(o),u=new _t(o,a,i),s=new Tt,(0,r.WV)(),s.init(),t.next=14,a.fillInitialData();case 14:if(e("#dbg_lv_log-table_processing").remove(),s.isCurrentlyDismissed()){t.next=20;break}return t.next=18,a.isDebugLogPubliclyAccessible();case 18:(c=t.sent).success&&c.data.is_public&&e("#dbg_lv_public_log_alert").show().addClass("show");case 20:return i.setupTimeFilter(),u.init(),i.startRelativeTimeUpdates(),t.next=25,rt(e("#dbg_lv_log_viewer_alerts_form"));case 25:"AUTO"===dbg_lv_backend_data.log_updates_mode&&i.startLiveUpdateLogs((function(){return a.updateLogs((function(){return i.animateRefreshButton()}))}));case 26:case"end":return t.stop()}}),t)})),Pt=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=Et.apply(t,e);function a(t){Mt(o,n,r,a,i,"next",t)}function i(t){Mt(o,n,r,a,i,"throw",t)}a(void 0)}))},function(t){return Pt.apply(this,arguments)})(jt)}}]);