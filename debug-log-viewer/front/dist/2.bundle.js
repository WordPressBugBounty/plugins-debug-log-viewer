"use strict";(self.webpackChunkdebug_log_viewer=self.webpackChunkdebug_log_viewer||[]).push([[2],{621:(t,e,n)=>{n.r(e),n.d(e,{LogPopoverRenderer:()=>u});var r=n(336),i=n(756);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function l(t,e,n){return(e=c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}var u=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"setContainer",value:function(t){this.container=t}},{key:"renderLogFileInfo",value:function(t){var e="";return t.fileSize&&(e+='\n                <div class="d-flex align-items-center mb-2">\n                    <i class="fa-solid fa-hdd text-muted me-2"></i>\n                    <span><strong>'.concat((0,i.t)("file_size"),":</strong> ").concat(t.fileSize,"</span>\n                </div>\n            ")),t.lastModified&&(e+='\n                <div class="d-flex align-items-center mb-2">\n                    <i class="fa-solid fa-clock text-muted me-2"></i>\n                    <span><strong>'.concat((0,i.t)("last_modified"),":</strong> ").concat(t.lastModified,"</span>\n                </div>\n            ")),t.permissions&&(e+='\n                <div class="d-flex align-items-center mb-2">\n                    <i class="fa-solid fa-shield-halved text-muted me-2"></i>\n                    <span><strong>'.concat((0,i.t)("permissions"),":</strong> ").concat(t.permissions,"</span>\n                </div>\n            ")),e}},{key:"renderLogFileWarnings",value:function(t){var e=this,n="";return t.forEach((function(t){var r=e.getStatusClass(t.type),i="danger"===t.type?'<i class="fa-solid fa-clock text-muted ms-2" id="dbg_lv_dismiss_alert" title="Dismiss for a week"></i>':"";n+='\n                <div class="d-flex align-items-start mb-2">\n                    <i class="fa-solid '.concat(t.icon," ").concat(r,' me-2 mt-1"></i>\n                    <div class="flex-grow-1">\n                        <strong>').concat(t.title).concat(i,'</strong><br>\n                        <small class="text-muted">').concat(t.message,"</small>\n                    </div>\n                </div>\n            ")})),n}},{key:"getStatusClass",value:function(t){return"danger"===t?"text-danger":"text-warning"}},{key:"getWarningsSeverity",value:function(t){return Array.isArray(t)&&0!==t.length?t.some((function(t){return"danger"===t.type}))?"danger":(t.some((function(t){return"warning"===t.type})),"warning"):"none"}},{key:"createPopoverTriggers",value:function(t){this.container.innerHTML="";var e=document.createElement("i");if(e.className="fa-solid fa-circle-info log-info-trigger",e.setAttribute("tabindex","0"),e.setAttribute("data-bs-toggle","popover"),e.setAttribute("data-bs-placement","bottom"),e.setAttribute("data-bs-html","true"),e.setAttribute("data-bs-trigger","focus"),e.setAttribute("data-bs-title",(0,i.t)("log_file_information")),t.fileInfo){var n=this.renderLogFileInfo(t.fileInfo);e.setAttribute("data-bs-content",n)}if(this.container.appendChild(e),t.warnings&&t.warnings.length>0){var r=this.getWarningsSeverity(t.warnings);if("none"!==r){var o=document.createElement("i");o.className="fa-solid fa-triangle-exclamation log-warning-trigger severity-".concat(r),o.setAttribute("tabindex","0"),o.setAttribute("data-bs-toggle","popover"),o.setAttribute("data-bs-placement","bottom"),o.setAttribute("data-bs-html","true"),o.setAttribute("data-bs-trigger","focus"),o.setAttribute("data-bs-title",(0,i.t)("log_file_status_warnings"));var a=this.renderLogFileWarnings(t.warnings);o.setAttribute("data-bs-content",a),this.container.appendChild(o)}}}},{key:"initializePopovers",value:function(t){var e=document.querySelector(".log-info-trigger"),n=document.querySelector(".log-warning-trigger");if(e&&t.fileInfo){var r=this.renderLogFileInfo(t.fileInfo);e.setAttribute("data-bs-content",r)}if(n&&t.warnings){var i=this.renderLogFileWarnings(t.warnings),o=this.getWarningsSeverity(t.warnings);n.setAttribute("data-bs-content",i),n.classList.add("severity-".concat(o)),n.style.display="none"===o?"none":"inline-block"}}},{key:"updatePopovers",value:function(t){var e=document.querySelector(".log-info-trigger"),n=document.querySelector(".log-warning-trigger");if(e&&t.fileInfo){var i=r.AM.getInstance(e);if(i){var o=this.renderLogFileInfo(t.fileInfo);i.setContent({".popover-body":o})}}if(n&&t.warnings){var a=r.AM.getInstance(n);if(a){var s=this.renderLogFileWarnings(t.warnings),l=this.getWarningsSeverity(t.warnings);a.setContent({".popover-body":s}),n.className=n.className.replace(/severity-\w+/g,""),n.classList.add("severity-".concat(l)),n.style.display="none"===l?"none":"inline-block"}}}},{key:"reinitializeBootstrapPopovers",value:function(){var t=document.querySelectorAll('[data-bs-toggle="popover"]');return this.popovers=function(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t).map((function(t){return new r.AM(t,{html:!0,placement:"bottom",trigger:"focus"})})),this.popovers}}],null&&s(t.prototype,null),e&&s(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();l(u,"container",null),l(u,"popovers",[]),"undefined"!=typeof window&&(window.LogPopoverRenderer=u)},756:(t,e,n)=>{n.d(e,{L$:()=>l,P0:()=>a,WV:()=>s,t:()=>o});var r=n(336),i=n(669);function o(t){var e=dbg_lv_backend_data.phrases;return e&&e[t]?e[t]:(console.warn("Phrase ".concat(t," not found")),t)}function a(t,e){var n=i("#custom-toast"),o=i("#toast-body");if(n.length){var a=t instanceof Error?t.message:t;o.text(a);var s="bg-success";"error"===e?s="bg-danger":"warning"===e&&(s="bg-warning"),n.removeClass("bg-success bg-danger bg-warning").addClass(s),new r.y8(n[0]).show()}}function s(){i("body").append('<div class="scroll-top" id="dbg_lv_scrollToTopButton" style="display: none;">\n        <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512">\n            <path fill="#4f6df5" d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"/>\n        </svg>\n    </div>'),i(document).on("scroll",(function(){i(this).scrollTop()>100?i("#dbg_lv_scrollToTopButton").fadeIn():i("#dbg_lv_scrollToTopButton").fadeOut()})),i("#dbg_lv_scrollToTopButton").on("click",(function(){return i("html, body").animate({scrollTop:0},500,"linear"),!1}))}function l(t){var e=0,n=i(".search-builder-btn").find(".filter-counter"),r=t.searchBuilder.getDetails(),o=""!==t.search()||t.rows({search:"applied"}).count()!==t.rows().count();r&&r.criteria&&o&&(e=r.criteria.filter((function(t){return!!t.value&&void 0!==t.condition&&""!==t.condition&&(Array.isArray(t.value)?t.value.length>0&&t.value.some((function(t){return t&&""!==String(t).trim()})):""!==String(t.value).trim())})).length),e>0?n.text(" (".concat(e,")")).show():n.hide()}}}]);